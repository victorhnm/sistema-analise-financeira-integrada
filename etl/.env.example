# .env.example - Template de variáveis de ambiente para ETL
# INSTRUÇÃO: Copie este arquivo para .env e preencha com seus valores reais

# =============================================================================
# DATABASE CONFIGURATION (Supabase/PostgreSQL)
# =============================================================================

# Connection string completa do Supabase
# Formato: postgresql://postgres:[PASSWORD]@[HOST]:5432/postgres?sslmode=require
DATABASE_URL=postgresql://postgres:your_password@your_project.supabase.co:5432/postgres

# Configurações específicas (alternativa ao DATABASE_URL)
SUPABASE_HOST=your-project.supabase.co
SUPABASE_USER=postgres
SUPABASE_PASSWORD=your_supabase_password
SUPABASE_DBNAME=postgres
SUPABASE_PORT=5432

# Connection pool settings
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30
DB_ECHO=false

# =============================================================================
# SEC EDGAR API CONFIGURATION
# =============================================================================

# OBRIGATÓRIO: User-Agent para SEC (formato: "CompanyName AdminContact@domain.com")
SEC_USER_AGENT=YourCompany admin@yourdomain.com

# SEC API settings
SEC_BASE_URL=https://data.sec.gov/api/xbrl
SEC_RATE_LIMIT_RPS=5.0
SEC_MAX_RETRIES=3
SEC_TIMEOUT=30
SEC_BACKOFF_FACTOR=2.0

# =============================================================================
# FOREIGN EXCHANGE DATA CONFIGURATION
# =============================================================================

# Fonte de dados FX: ECB ou FRED
SOURCE_FX=ECB

# European Central Bank (ECB) - sem autenticação
ECB_URL=https://www.ecb.europa.eu/stats/eurofxref/eurofxref-hist.xml

# Federal Reserve Economic Data (FRED) - requer API key
FRED_BASE_URL=https://api.stlouisfed.org/fred
FRED_API_KEY=your_fred_api_key_here

# FX rate limiting
FX_RATE_LIMIT_RPM=60.0
FX_TIMEOUT=30

# =============================================================================
# ETL GENERAL CONFIGURATION
# =============================================================================

# Logging
LOG_LEVEL=INFO

# Processing settings
ETL_CHUNK_SIZE=1000
ETL_MAX_WORKERS=4
ETL_RETRY_DELAY=1
ETL_INCREMENTAL=true

# Data retention and quality
DATA_RETENTION_DAYS=90
MIN_REVENUE_THRESHOLD=1000000

# Start date for historical data processing (YYYY-MM-DD)
HISTORICAL_START_DATE=2020-01-01

# =============================================================================
# API CONFIGURATION (FastAPI)
# =============================================================================

# API settings
API_HOST=0.0.0.0
API_PORT=8000
API_PAGE_SIZE_DEFAULT=100
API_MAX_PAGE_SIZE=1000

# =============================================================================
# GITHUB ACTIONS / CI CONFIGURATION
# =============================================================================

# Environment indicator
ENVIRONMENT=development

# CI/CD flags
CI_SKIP_SLOW_TESTS=false
CI_PARALLEL_JOBS=2

# =============================================================================
# DEVELOPMENT / DEBUG CONFIGURATION
# =============================================================================

# Debug flags
DEBUG_SQL_ECHO=false
DEBUG_HTTP_TRACE=false
DEBUG_SKIP_RATE_LIMITING=false

# Test data limits (para desenvolvimento)
DEV_MAX_COMPANIES=5
DEV_MAX_FACTS_PER_COMPANY=1000

# =============================================================================
# INSTRUÇÕES DE USO
# =============================================================================

# 1. SUPABASE SETUP:
#    - Crie projeto no https://supabase.com
#    - Vá em Settings > Database
#    - Copie a connection string e substitua [PASSWORD] pela sua senha
#    - Execute o script infra/init.sql no SQL Editor

# 2. SEC USER-AGENT:
#    - OBRIGATÓRIO: Formate como "CompanyName AdminContact@domain.com"
#    - Use seu nome/empresa e email real
#    - SEC bloqueia requests sem User-Agent válido

# 3. FRED API KEY (opcional):
#    - Registre-se em https://fred.stlouisfed.org/docs/api/api_key.html
#    - Obtenha API key gratuita
#    - Adicione em FRED_API_KEY se quiser usar FRED em vez de ECB

# 4. CONFIGURAÇÃO LOCAL:
#    - Copie este arquivo: cp .env.example .env
#    - Preencha as variáveis com seus valores
#    - Nunca commite o arquivo .env (já está no .gitignore)

# 5. TESTE DE CONECTIVIDADE:
#    - Execute: python -m etl.main health
#    - Deve mostrar "Overall Status: HEALTHY"

# =============================================================================
# EXEMPLOS DE VALORES REAIS (para referência)
# =============================================================================

# DATABASE_URL=postgresql://postgres:MyStr0ngP@ssw0rd@abc123.supabase.co:5432/postgres
# SEC_USER_AGENT=MyAnalytics contact@myanalytics.com
# SOURCE_FX=ECB
# LOG_LEVEL=INFO
# ETL_INCREMENTAL=true